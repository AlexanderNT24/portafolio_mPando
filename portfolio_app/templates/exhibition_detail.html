{%extends 'layout.html'%}
{% block content%}
<script src="/static/js/fancybox.js"></script>
<div class="container">
  <div class="container-fluid">
    <p class="description-post-tag">
      <strong>
      {{exhibition.title}}. 
      {% if exhibition.ubication %}
      {{exhibition.ubication}}, 
      {% endif %}
      {% if exhibition.city %}
      {{exhibition.city}}
      {% endif %}
    </strong> 
    ({{exhibition.date|date:'Y'}})</p>
  </div>
  <nav class="navbar navbar-expand-lg bg-body-tertiary">
    <div class="container-fluid">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link active navbar-item" aria-current="page" href="#Description">Text</a>
        </li>
        {% if exhibition.exhibition_view_set.all %}
        <li class="nav-item">
          <a class="nav-link navbar-item" href="#Images">Exhibition Views</a>
        </li>
        {% endif %}
        {% if exhibition.video_url %}
        <li class="nav-item">
          <a class="nav-link active navbar-item" href="#Video">Video</a>
        </li>
        {% endif %}
      </ul>
    </div>
  </nav>
  <div data-aos="fade-down" data-aos-easing="linear" data-aos-duration="700" id="Description" style="padding: 14px; background-color: white;">
    <textarea style="height:300px; width: 600px;background-color: white; resize: none; border: none;" disabled>
      {{exhibition.description}}
    </textarea>
  </div>
  {% if exhibition.exhibition_view_set.all %}
  <div data-aos="fade-down" data-aos-easing="linear" data-aos-duration="700" id="carouselExampleControls" class="carousel" data-bs-ride="carousel">
    <div class="carousel-inner">
      {% for exhibition_view in exhibition.exhibition_view_set.all %}
      <div id="Images" class="carousel-item">
        <div class="card">
            <div class="card-body">
              <a class="gallery-image" rel="gallery" href="{{exhibition_view.image.url}}">
                <img src="{{exhibition_view.image.url}}" class="d-block w-100" alt="Exhibition"/>
              </a>
            </div>
            {% if exhibition_view.title %}
            <p>{{exhibition_view.title}}. {{exhibition_view.description}}</p>
            {% endif %}
        </div>
      </div> 
      {% endfor %}
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
  </div>
  {% endif %}
  {% if exhibition.video_url %}
  {% if exhibition.password %}
  <p>Contrase√±a: {{exhibition.password}}</p>
  {% endif %}

  <div id="Video" style="padding:75% 0 0 0;position:relative;">
    <iframe src="{{exhibition.video_url}}" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen style="position:absolute;top:0;left:0;width:100%;height:100%;" title="{{exhibition.title}}">
    </iframe>
    <div class="overlay">
      <a class="fancyMedia" data-fancybox-type="iframe" href="{{exhibition.video_url}}"><i class="bi bi-fullscreen"></i></a>
    </div>
  </div>
  <style>
    .overlay {
  position: absolute;
  top: 20%;
  left: 95%;
  transform: translate(-50%, -50%);
  z-index: 1;
}

.overlay a {
  color: white;


  text-decoration: none;
  padding: 15px;

  border-radius: 5px;
  background-color: rgba(0, 0, 0, 0.5);
}

  </style>
</a>

  <script src="https://player.vimeo.com/api/player.js">
  </script>
  {% endif %}
</div>

<link rel="stylesheet" type="text/css" href="/static/css/carousel.css">

<script src="/static/js/carouselJquery.js"></script>
{% endblock %}

